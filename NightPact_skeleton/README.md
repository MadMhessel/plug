# NightPact (каркас плагина)

**Сон как договор**: игроки голосуют *кроватью*, а после пропуска ночи сервер применяет «послевкусие сна»
(умеренные эффекты/мини-события). Включены фишки:
- роли «спящие/дежурные»,
- «комбо-сон» (поощряет сон рядом),
- «тревожный сон» (враждебные мобы рядом / недавний бой),
- полоса прогресса подготовки,
- настраиваемые веса эффектов.

## Сборка
Требования: Java 21 + Maven.

```bash
mvn -DskipTests package
```

Готовый JAR: `target/nightpact-0.1.0-SNAPSHOT.jar`

## Установка
1. Положите JAR в папку `plugins/`
2. Запустите сервер (создастся `plugins/NightPact/config.yml`)
3. Настройте `enabled_worlds`, `required_ratio`, эффекты и веса

## Команды
- `/nightpact status` — статус (сколько спят/сколько нужно)
- `/nightpact reload` — перезагрузка config.yml
- `/nightpact force` — принудительно запустить пропуск (админам)

## Примечание
Это каркас: логика уже работает, но эффекты и баланс рассчитаны как «безопасные по умолчанию».
Под ваш сервер их стоит подстроить (особенно `bad_dream` и лут).
