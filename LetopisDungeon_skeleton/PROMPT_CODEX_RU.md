Ты — опытный разработчик Paper-плагинов (Java 21, Paper 1.21.11+), без NMS и без внешних зависимостей.
Доведи каркас LetopisDungeon до полноценной «сессионной данж-системы» 50/50 (бой/кооп-пазлы) в отдельном мире.

СЕРВЕР/ОГРАНИЧЕНИЯ
- Paper 1.21.11 (не завязываться на патч-номер).
- Java 21.
- Без NMS, без WorldEdit/ProtocolLib.
- Комнаты как структуры датапака: ключи letopis_dungeon:rooms/...
- Размещение комнат через консольную команду /place structure ... (синтаксис сделать настраиваемым шаблоном в конфиге).

ЗАДАЧИ
1) Session:
- состояния: IDLE/LOBBY/RUNNING/FINISHED/COOLDOWN
- участники по факту присутствия/активности (не “0 если игрок в мире”)
- /join сохраняет точку возврата, /leave возвращает
- если все вышли — пауза до 2 минут, затем авто-завершение (настройка)

2) Director (tension 0..1000):
- baseTensionPerMinute
- анти-стойка: если нет прогресса N сек → давление каждые M сек (эффект + волна/усложнение)
- пороги 250/500/750 (эффекты/мини-босс)
- rescue-окно на 45 сек при “плохо” (2 смерти за 90 сек), но с “долгом” в финал

3) RoomSystem:
- маршрут 6–10 комнат, 50/50 по типам
- types: COMBAT_WAVE, COOP_HOLD, DOUBLE_SWITCH, TRAP_CORRIDOR, ASYNC_HINT, MINI_BOSS_NODE + ENTRY/FINAL
- rooms.yml: key/type/markers/expectedDuration
- после /place структура → скан маркеров ArmorStand tags (ld_spawner/ld_exit/...)
- админ: scanmarkers + testroom <key>

4) Бой/масштаб:
- волны: +2 моба за каждого доп. участника
- множители hp/dmg (настройки)
- мобы отмечать PDC: sessionId/roomId
- взрывы без разрушения блоков

5) Цели комнат (MVP):
- COMBAT_WAVE: убить N
- COOP_HOLD: 2 точки одновременно суммарно 25 сек
- DOUBLE_SWITCH: 2 рычага за 3 сек
- TRAP_CORRIDOR: добежать до objective с ограничением срабатываний
- ASYNC_HINT: правильная последовательность кнопок по подсказкам
- MINI_BOSS_NODE: убить босса до таймера

6) Развилки:
- после 2–3 комнат выбор “СИЛА” vs “ХИТРОСТЬ” → перестройка хвоста маршрута

7) UI и инструкция:
- BossBar: tension/room/time/participants
- ActionBar: текущая цель
- /guide выдаёт Written Book, текст из messages_ru.yml (страницы списком)

8) Критерии:
- проходит забег 6–10 комнат стабильно
- участники и волны работают
- лог без спама, тяжёлые сканы не чаще 1/сек
- ./gradlew.bat clean build собирает jar

ВЫВОД
- обновить README_RU.md (команды/установка)
- коммиты с понятными сообщениями
